<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ê—Ä—Ö–∏–≤ v2.0 MEGA UPDATE</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <style>
        :root {
            --primary: #007bff;
            --bg: #f0f2f5;
            --card-bg: rgba(255, 255, 255, 0.9);
            --text: #333;
            --neon: transparent;
        }

        body.ruslan-mode {
            --bg: #0a0a0a;
            --card-bg: rgba(26, 26, 26, 0.85);
            --text: #00ff41;
            --primary: #00ff41;
            --neon: 0 0 10px #00ff41;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; margin: 0; min-height: 100vh;
            display: flex; flex-direction: column; align-items: center; 
            padding: 20px; color: var(--text); transition: all 0.5s ease; overflow-x: hidden;
        }

        /* –ö–ê–ù–í–ê–° –î–õ–Ø –ó–í–ï–ó–î–ù–û–ì–û –ù–ï–ë–ê */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: var(--bg); transition: background 0.5s; }

        /* –í–ï–†–•–ù–ò–ï –í–ò–î–ñ–ï–¢–´ –ò –ö–ù–û–ü–ö–ò */
        .top-left-controls { position: fixed; top: 15px; left: 15px; display: flex; flex-direction: column; gap: 10px; z-index: 100; }
        .control-btn { background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: 0.3s; }
        .control-btn:hover { transform: scale(1.05); }
        #owner-btn { background: #d9534f; display: none; }
        #admin-pending-btn { background: #ff9800; display: none; }

        .next-update-timer { position: fixed; top: 15px; right: 15px; background: rgba(0,0,0,0.8); color: #fff; padding: 10px 15px; border-radius: 10px; font-weight: bold; border: 1px solid var(--primary); z-index: 100; text-align: center; box-shadow: var(--neon); }

        /* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 4000; display: none; justify-content: center; align-items: center; backdrop-filter: blur(3px); }
        .modal-content { background: var(--card-bg); padding: 25px; border-radius: 15px; max-width: 500px; width: 90%; color: var(--text); border: 1px solid var(--primary); box-shadow: var(--neon); position: relative; }
        .modal-close { position: absolute; top: 10px; right: 15px; background: transparent; border: none; font-size: 1.5em; cursor: pointer; color: var(--text); }
        
        /* –ß–ê–¢ */
        .chat-widget { position: fixed; bottom: 20px; right: 20px; width: 300px; background: var(--card-bg); border: 1px solid var(--primary); border-radius: 10px 10px 0 0; z-index: 2000; box-shadow: var(--neon); display: flex; flex-direction: column; overflow: hidden; transition: 0.3s; }
        .chat-header { background: var(--primary); color: white; padding: 10px; font-weight: bold; cursor: pointer; text-align: center; user-select: none; }
        .chat-body { display: none; flex-direction: column; height: 300px; }
        .chat-messages { flex-grow: 1; padding: 10px; overflow-y: auto; font-size: 0.9em; border-bottom: 1px solid rgba(0,0,0,0.1); }
        .chat-msg { margin-bottom: 8px; word-wrap: break-word; }
        .chat-msg strong { color: var(--primary); }
        .chat-input-area { display: flex; }
        #chat-input { flex-grow: 1; padding: 10px; border: none; outline: none; background: transparent; color: var(--text); }
        #chat-send { background: var(--primary); color: white; border: none; padding: 0 15px; cursor: pointer; font-weight: bold; }

        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
        .container { width: 100%; max-width: 700px; background: var(--card-bg); padding: 30px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); border: 1px solid var(--neon); backdrop-filter: blur(5px); margin-top: 60px; margin-bottom: 80px; }
        .stats-header { text-align: center; font-size: 0.9em; color: #888; margin-bottom: 15px; font-weight: bold; background: rgba(0,0,0,0.03); padding: 10px; border-radius: 10px; }
        .search-container { margin-bottom: 20px; width: 100%; }
        #search-input { width: 100%; padding: 12px 15px; border: 2px solid #ddd; border-radius: 10px; background: white; color: #333; font-size: 16px; outline: none; transition: 0.3s; box-sizing: border-box; }

        .main-nav { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; background: rgba(0,0,0,0.05); padding: 8px; border-radius: 12px; flex-wrap: wrap; }
        .main-btn { padding: 10px 25px; cursor: pointer; border: none; background: none; font-weight: bold; border-radius: 8px; color: var(--text); }
        .main-btn.active { background: var(--primary); color: white; box-shadow: var(--neon); }

        .sub-tabs { display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; overflow-x: auto; scrollbar-width: thin; }
        .tab-btn { padding: 6px 12px; cursor: pointer; border: none; background: rgba(0,0,0,0.05); border-radius: 6px; color: var(--text); white-space: nowrap; }
        .tab-btn.active { background: #6c757d; color: white; }

        .page, .content-section { display: none; }
        .page.active, .content-section.active { display: block; }

        .card { background: white; border: 1px solid rgba(0,0,0,0.1); padding: 20px; margin-bottom: 15px; border-radius: 12px; animation: slideUp 0.5s ease forwards; opacity: 0; position: relative; color: #333; transition: box-shadow 0.3s; }
        body.ruslan-mode .card { background: #1a1a1a; border-color: #00ff41; color: #00ff41; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* –ê–ù–ò–ú–ê–¶–ò–Ø –ü–û–î–°–í–ï–¢–ö–ò –°–°–´–õ–ö–ò */
        .highlight-quote { animation: pulse-glow 2s ease-out 3; }
        @keyframes pulse-glow { 0% { box-shadow: 0 0 0 0 var(--primary); } 50% { box-shadow: 0 0 20px 5px var(--primary); } 100% { box-shadow: 0 0 0 0 transparent; } }

        .quote-text { font-style: italic; font-size: 1.1em; border-left: 4px solid var(--primary); padding-left: 15px; display: block; margin-bottom: 10px; }
        .author { text-align: right; display: block; font-weight: bold; }
        .event-header { display: flex; justify-content: space-between; align-items: center; }
        .details-text { display: none; margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.03); border-radius: 8px; border: 1px dashed var(--primary); font-size: 0.95em; line-height: 1.5; }
        .time-passed { font-size: 0.85em; color: #d9534f; margin-top: 8px; font-weight: bold; display: block; }

        .like-section { display: flex; align-items: center; gap: 8px; margin-top: 15px; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 10px; }
        .like-btn { cursor: pointer; font-size: 1.2em; user-select: none; transition: transform 0.2s; filter: grayscale(100%); opacity: 0.7; }
        .like-btn.liked { filter: grayscale(0%); opacity: 1; }
        .like-count { font-weight: bold; }

        .achievement { position: fixed; top: 20px; right: -300px; background: #333; color: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: 0.5s; z-index: 1000; border-left: 5px solid gold; }
        .achievement.show { right: 20px; }

        #terminal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #000; color: #00ff41; padding: 20px; border-radius: 10px; width: 300px; display: none; z-index: 2000; box-shadow: 0 0 50px #000; border: 1px solid #00ff41; }
        #terminal input { background: transparent; border: none; color: #00ff41; outline: none; width: 100%; font-family: monospace; border-bottom: 1px solid #00ff41; }

        .action-btn { background: var(--primary); border: none; padding: 8px 15px; border-radius: 5px; color: white; cursor: pointer; margin-top: 10px; font-size: 0.85em; transition: 0.2s; }
        .share-btn { background: rgba(0,0,0,0.1); color: var(--text); margin-left: 5px; }
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 10px 20px; border-radius: 20px; display: none; z-index: 3000; }
        
        textarea { width: 100%; height: 100px; padding: 10px; border-radius: 10px; background: rgba(0,0,0,0.05); color: var(--text); border: 1px solid #ccc; font-family: inherit; resize: none; box-sizing: border-box; }

        /* –°–¢–ò–õ–ò –î–õ–Ø –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò –ü–†–ï–î–õ–û–ñ–ö–ò */
        .pending-item { background: rgba(0,0,0,0.05); padding: 10px; margin-bottom: 10px; border-radius: 8px; border-left: 3px solid #ff9800; display: flex; justify-content: space-between; align-items: center; }
        .pending-text { flex-grow: 1; margin-right: 10px; font-size: 0.9em; word-wrap: break-word; }
        .delete-btn { background: #d9534f; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div class="top-left-controls">
    <button class="control-btn" onclick="toggleModal('update-modal')">üìã –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?</button>
    <button class="control-btn" onclick="toggleModal('suggest-modal')">‚ûï –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–∏—Ç–∞—Ç—É</button>
    <button class="control-btn" id="owner-btn" onclick="sendGlobalMessage()">üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º</button>
    <button class="control-btn" id="admin-pending-btn" onclick="openAdminPending()">üì• –ü—Ä–µ–¥–ª–æ–∂–∫–∞ (–ê–¥–º–∏–Ω)</button>
</div>

<div class="next-update-timer">
    ‚è≥ –î–æ –æ–±–Ω–æ–≤—ã:<br><span id="update-countdown">–°—á–∏—Ç–∞–µ–º...</span>
</div>

<div class="modal-overlay" id="update-modal">
    <div class="modal-content">
        <button class="modal-close" onclick="toggleModal('update-modal')">√ó</button>
        <h2>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ v2.0: –ì–ª–æ–±–∞–ª—å–Ω–∞—è –°–µ—Ç—å</h2>
        <ul style="padding-left: 20px; line-height: 1.6;">
            <li>–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∫—Ä—ã—Ç–∞—è –ø—Ä–µ–¥–ª–æ–∂–∫–∞ —Ü–∏—Ç–∞—Ç (–∫–Ω–æ–ø–∫–∞ —Å–ª–µ–≤–∞).</li>
            <li>–î–æ–±–∞–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π Live-–ß–∞—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è –≤ —É–≥–ª—É!</li>
            <li>–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ü–∏—Ç–∞—Ç—ã –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∏ —Å—Å—ã–ª–∫–∞-—Ç–µ–ª–µ–ø–æ—Ä—Ç –ø—Ä—è–º–æ –Ω–∞ –Ω–µ–µ (—Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π).</li>
            <li>–î–æ–±–∞–≤–ª–µ–Ω –≤–∏–¥–∂–µ—Ç —Å —Ç–∞–π–º–µ—Ä–æ–º –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –æ–±–Ω–æ–≤—ã.</li>
            <li>–í —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã: <code>credits</code>, <code>version</code>, –∏ —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ <code>???</code>.</li>
            <li>–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∞ –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–∫–∏.</li>
        </ul>
    </div>
</div>

<div class="modal-overlay" id="suggest-modal">
    <div class="modal-content">
        <button class="modal-close" onclick="toggleModal('suggest-modal')">√ó</button>
        <h2>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–∏—Ç–∞—Ç—É</h2>
        <p>–ù–∞–ø–∏—à–∏ —Ü–∏—Ç–∞—Ç—É –∏ –∞–≤—Ç–æ—Ä–∞. –û–Ω–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å—É!</p>
        <textarea id="suggest-text" placeholder="¬´–¶–∏—Ç–∞—Ç–∞...¬ª ‚Äî –ê–≤—Ç–æ—Ä"></textarea>
        <button class="action-btn" style="width: 100%; margin-top: 15px; font-size: 1.1em;" onclick="submitSuggestion()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
</div>

<div class="modal-overlay" id="admin-pending-modal" style="z-index: 5000;">
    <div class="modal-content" style="border: 2px solid #ff9800;">
        <button class="modal-close" onclick="toggleModal('admin-pending-modal')">√ó</button>
        <h2 style="color: #ff9800;">üì• –û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
        <div id="pending-list" style="max-height: 300px; overflow-y: auto; text-align: left; padding-right: 10px;">
            –ó–∞–≥—Ä—É–∑–∫–∞...
        </div>
        <p style="font-size: 0.8em; color: gray; margin-top: 15px; border-top: 1px solid #ccc; padding-top: 10px;">*–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ç–∞—Ç—É –Ω–∞ —Å–∞–π—Ç –Ω–∞–≤—Å–µ–≥–¥–∞, —Å–∫–æ–ø–∏—Ä—É–π –µ—ë —Ç–µ–∫—Å—Ç –∏ –≤—Å—Ç–∞–≤—å –≤ HTML –∫–æ–¥ (–≤ –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É). –ö–Ω–æ–ø–∫–∞ üóëÔ∏è —Ç–æ–ª—å–∫–æ —É–¥–∞–ª—è–µ—Ç –µ—ë –∏–∑ –±–∞–∑—ã –æ–∂–∏–¥–∞–Ω–∏—è.</p>
    </div>
</div>

<div class="modal-overlay" id="global-msg-modal" style="z-index: 5000;">
    <div class="modal-content" style="border: 2px solid #d9534f; text-align: center;">
        <button class="modal-close" onclick="toggleModal('global-msg-modal')">√ó</button>
        <h2 style="color: #d9534f;">–í–ù–ò–ú–ê–ù–ò–ï!</h2>
        <p id="global-msg-text" style="font-size: 1.2em; font-weight: bold;"></p>
    </div>
</div>

<div class="chat-widget" id="chat-widget">
    <div class="chat-header" onclick="toggleChat()">üí¨ –ß–∞—Ç –ê—Ä—Ö–∏–≤–∞ (Offline)</div>
    <div class="chat-body" id="chat-body">
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
            <button id="chat-send" onclick="sendChatMessage()">‚û§</button>
        </div>
    </div>
</div>

<div id="copy-toast" class="toast">–°—Å—ã–ª–∫–∞ –∏ —Ü–∏—Ç–∞—Ç–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!</div>
<div id="achievement-box" class="achievement">
    <strong id="ach-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</strong><br><span id="ach-desc">–¢–µ–∫—Å—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
</div>
<div id="terminal">
    <div>SYSTEM LOGIN: ACCESS REQUIRED</div>
    <input type="text" id="terminal-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥...">
</div>

<div class="container">
    <div class="stats-header" id="live-stats">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</div>
    <div class="search-container"><input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ —Ü–∏—Ç–∞—Ç –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π..." onkeyup="filterQuotes()"></div>

    <div class="main-nav">
        <button class="main-btn active" onclick="showPage('quotes-page')">–¶–∏—Ç–∞—Ç—ã</button>
        <button class="main-btn" onclick="showPage('events-page')">–°–æ–±—ã—Ç–∏—è</button>
        <button class="main-btn" onclick="showPage('items-page')">–ü—Ä–µ–¥–º–µ—Ç—ã</button>
    </div>

    <div id="quotes-page" class="page active">
        <div class="sub-tabs">
            <button class="tab-btn active" onclick="openSubTab('ruslan', 'quotes')">–û –†—É—Å–ª–∞–Ω–µ</button>
            <button class="tab-btn" onclick="openSubTab('sergo', 'quotes')">–°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</button>
            <button class="tab-btn" onclick="openSubTab('terminator', 'quotes')">–ê–Ω–¥—Ä–µ–π –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä</button>
            <button class="tab-btn" onclick="openSubTab('artem', 'quotes')">–ê—Ä—Ç–µ–º –í.</button>
            <button class="tab-btn" onclick="openSubTab('vova', 'quotes')">–í–æ–≤–∞ –í.</button>
            <button class="tab-btn" onclick="openSubTab('artem-vova', 'quotes')">–ê—Ä—Ç–µ–º –∏ –í–æ–≤–∞</button>
            <button class="tab-btn" onclick="openSubTab('all', 'quotes')">–í—Å–µ</button>
        </div>

        <div id="ruslan-quotes" class="content-section active">
            <div id="secret-quote" style="display: none;">
                <div class="card" data-quote-id="quote_secret_masulya" style="border: 2px dashed #d9534f;">
                    <span class="quote-text">¬´–ß–µ –∑–∞ –º–∞—Å—é–ª—è –Ω–∞ –º–Ω–µ¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span>
                    <div style="font-size: 0.8em; color: #d9534f; margin-top:10px;">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: –ó–∞–±—ã–ª–∏ –ø—Ä–æ –Ω–µ–µ</div>
                    <div class="like-section">
                        <span class="like-btn" onclick="toggleLike('quote_secret_masulya')">‚ù§Ô∏è</span><span class="like-count">0</span>
                        <button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button>
                    </div>
                </div>
            </div>
            <p style="text-align: center; opacity: 0.5;">–¶–∏—Ç–∞—Ç –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        </div>

        <div id="sergo-quotes" class="content-section">
            <div class="card" data-quote-id="quote_sergo_1"><span class="quote-text">¬´–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å–ª—É—à–∞–π—Ç–µ¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_2"><span class="quote-text">¬´–ö–æ–ª—è –≤—ã–π–¥–∏ –ö–æ–ª—è –≤—ã–π–¥–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_2')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_3"><span class="quote-text">¬´–£–∫—Ä–∞–∏–Ω—Ü—ã¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_3')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_4"><span class="quote-text">¬´–°–≤–æ–ª–æ—á–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_4')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
        </div>

        <div id="terminator-quotes" class="content-section">
            <div class="card" data-quote-id="quote_term_1">
                <span class="quote-text">¬´–î–µ–±–∏–ª—ã –º–∞–ª–æ–ª–µ—Ç–Ω–∏–µ¬ª</span><span class="author">‚Äî –ê–Ω–¥—Ä–µ–π.–¢</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_term_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
        </div>

        <div id="artem-quotes" class="content-section">
            <div class="card" data-quote-id="quote_ruslan_3_10">
                <span class="quote-text">¬´3 —Ü–µ–ª—ã—Ö –†—É—Å–ª–∞–Ω –¥–µ—Å—è—Ç—ã–π¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span>
                <div class="like-section">
                    <span class="like-btn" onclick="toggleLike('quote_ruslan_3_10')">‚ù§Ô∏è</span><span class="like-count">0</span>
                    <button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button>
                </div>
            </div>
        </div>

        <div id="vova-quotes" class="content-section">
            <p style="text-align: center; opacity: 0.5;">–¶–∏—Ç–∞—Ç –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        </div>

        <div id="artem-vova-quotes" class="content-section">
            <div class="card" data-quote-id="quote_vova_tank">
                <span class="quote-text">¬´–¢–∞–Ω–∫ –≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç¬ª</span><span class="author">‚Äî –í–æ–≤–∞ –≤–µ–ª. –ê—Ä—Ç–µ–º –≤–µ–ª.</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_vova_tank')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
        </div>

        <div id="all-quotes" class="content-section">
            <div class="card" data-quote-id="quote_ruslan_3_10"><span class="quote-text">¬´3 —Ü–µ–ª—ã—Ö –†—É—Å–ª–∞–Ω –¥–µ—Å—è—Ç—ã–π¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_ruslan_3_10')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_1"><span class="quote-text">¬´–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å–ª—É—à–∞–π—Ç–µ¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_2"><span class="quote-text">¬´–ö–æ–ª—è –≤—ã–π–¥–∏ –ö–æ–ª—è –≤—ã–π–¥–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_2')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_3"><span class="quote-text">¬´–£–∫—Ä–∞–∏–Ω—Ü—ã¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_3')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_4"><span class="quote-text">¬´–°–≤–æ–ª–æ—á–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_4')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_term_1"><span class="quote-text">¬´–î–µ–±–∏–ª—ã –º–∞–ª–æ–ª–µ—Ç–Ω–∏–µ¬ª</span><span class="author">‚Äî –ê–Ω–¥—Ä–µ–π.–¢</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_term_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_vova_tank"><span class="quote-text">¬´–¢–∞–Ω–∫ –≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç¬ª</span><span class="author">‚Äî –í–æ–≤–∞ –≤–µ–ª. –ê—Ä—Ç–µ–º –≤–µ–ª.</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_vova_tank')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
        </div>
    </div>

    <div id="events-page" class="page">
        <div class="sub-tabs">
            <button class="tab-btn active" onclick="openSubTab('ruslan', 'events')">–û –†—É—Å–ª–∞–Ω–µ</button>
            <button class="tab-btn" onclick="openSubTab('sergo', 'events')">–°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</button>
            <button class="tab-btn" onclick="openSubTab('terminator', 'events')">–ê–Ω–¥—Ä–µ–π –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä</button>
            <button class="tab-btn" onclick="openSubTab('artem', 'events')">–ê—Ä—Ç–µ–º –í.</button>
            <button class="tab-btn" onclick="openSubTab('vova', 'events')">–í–æ–≤–∞ –í.</button>
            <button class="tab-btn" onclick="openSubTab('artem-vova', 'events')">–ê—Ä—Ç–µ–º –∏ –í–æ–≤–∞</button>
            <button class="tab-btn" onclick="openSubTab('all', 'events')">–í—Å–µ</button>
        </div>

        <div id="ruslan-events" class="content-section active">
            <div class="card"><div class="event-header"><strong>–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É</strong><small>??.01.26</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –†—É—Å–ª–∞–Ω —Å–∏–¥–µ–ª –∏ –∫–æ–≥–¥–∞ —É—Å–ª—ã—à–∞–ª –∑–≤–æ–Ω–æ–∫ —Å—Ä–∞–∑—É —Å–ø—Ä—è—Ç–∞–ª —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –∫–∞—Ä–º–∞–Ω –∏ –ø–æ—Å–ª–µ –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –ø–æ–¥ –∏–º–µ–Ω–µ–º –í–æ–≤–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥ –ø—Ä–∏–¥—É–º–∞–ª "–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É". <br><strong>–ê–≤—Ç–æ—Ä: –í–æ–≤–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥</strong></div></div>
        </div>

        <div id="sergo-events" class="content-section">
            <div class="card"><div class="event-header"><strong>–ê—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ</strong><small>27.02.26 | 9:35</small></div><span class="time-passed" data-date="2026-02-27T09:35:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í 9:35 –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ. –ü–æ—Å—Ç—Ä–∞–¥–∞–ª 1 —á–µ–ª–æ–≤–µ–∫ (–°–µ—Ä–≥–æ –º–µ—Ä–≥–æ). –í –∫–∞—á–µ—Å—Ç–≤–µ —Å–Ω–∞—Ä—è–¥–æ–≤ –±—ã–ª–∞ –∫–æ–∂—É—Ä–∞ –æ—Ç –º–∞–Ω–¥–∞—Ä–∏–Ω–æ–≤.</div></div>
        </div>

        <div id="terminator-events" class="content-section">
            <div class="card"><div class="event-header"><strong>–ü–æ—â–µ—á–∏–Ω–∞ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞</strong><small>??.??.??</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">??? –î–ï–ù–¨,–ú–ï–°–Ø–¶,–ì–û–î. –ê–Ω–¥—Ä–µ–π —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –≤—Å—Ç–∞–ª —Å–æ —Å–≤–æ–µ–≥–æ —Å—Ç—É–ª–∞ –∏ –±—É–¥—É—á–∏ –∑–ª—ã–º –¥–∞–ª –ø–æ—â–µ—á–∏–Ω—É –°–∞–≤–µ–ª–∏—é –∏ –æ–Ω —É–¥–∞—Ä–∏–ª—Å—è –æ–± —Å—Ç–µ–Ω—É.</div></div>
            <div class="card"><div class="event-header"><strong>–ê–Ω–¥—Ä–µ–π –≤ —Ç—É–∞–ª–µ—Ç–µ</strong><small>??.??.??</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –ê—Ä—Ç–µ–º –∏ –í–æ–≤–∞ —Ä–µ—à–∏–ª–∏—Å—å —Å—Ö–æ–¥–∏—Ç—å –≤ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π —Ç—É–∞–ª–µ—Ç —à–∫–æ–ª—ã –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∑–∞—à–ª–∏ —Ç–æ —É–≤–∏–¥–µ–ª–∏ –∫–∞–∫ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –ê–Ω–¥—Ä–µ–π –ø–∏—Å–∞–µ—Ç –∏ –æ–Ω–∏ —Å–±–µ–∂–∞–ª–∏ –µ–¥–≤–∞ –Ω–µ –≤—ã–¥–∞–≤ —Å–µ–±—è.<br><strong>–ê–≤—Ç–æ—Ä—ã: –ê—Ä—Ç–µ–º.–í –∏ –í–æ–≤–∞.–í</strong></div></div>
            <div class="card"><div class="event-header"><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞ –≤ –∑–≤–æ–Ω–æ–∫</strong><small>??.??.2026</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –í–æ–≤–∞ –∏ –ê—Ä—Ç–µ–º —Ä–µ—à–∏–ª–∏ –ø–æ–∏–≥—Ä–∞—Ç—å –≤ –ö—Å2 –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ —Å–ª—É—á–∞–π–Ω–æ –æ—Ç–∫–ª—é—á–∏–ª–∏—Å—å –ê—Ä—Ç–µ–º —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–∏–ª –≤ –∑–≤–æ–Ω–æ–∫ –ê–Ω–¥—Ä–µ—è –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞ –∏ –µ–º—É –ø–æ–≤–µ–∑–ª–æ —á—Ç–æ –æ–Ω –±—ã—Å—Ç—Ä–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∏ –ê—Ä—Ç–µ–º –±—ã—Å—Ç—Ä–æ –æ—Ç–∫–ª—é—á–∏–ª—Å—è –æ—Ç –∑–≤–æ–Ω–∫–∞ –∏ –æ—Å—Ç–∞–≤–∏–≤ –∞–Ω–¥—Ä–µ—è –æ–¥–Ω–æ–≥–æ.</div></div>
        </div>

        <div id="artem-events" class="content-section">
            <div class="card"><div class="event-header"><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞ –≤ –∑–≤–æ–Ω–æ–∫</strong><small>??.??.2026</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –í–æ–≤–∞ –∏ –ê—Ä—Ç–µ–º —Ä–µ—à–∏–ª–∏ –ø–æ–∏–≥—Ä–∞—Ç—å –≤ –ö—Å2...</div></div>
        </div>

        <div id="vova-events" class="content-section"><p style="text-align: center; opacity: 0.5;">–°–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.</p></div>

        <div id="artem-vova-events" class="content-section">
            <div class="card"><div class="event-header"><strong>–ê–Ω–¥—Ä–µ–π –≤ —Ç—É–∞–ª–µ—Ç–µ</strong><small>??.??.??</small></div><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –ê—Ä—Ç–µ–º –∏ –í–æ–≤–∞ —Ä–µ—à–∏–ª–∏—Å—å —Å—Ö–æ–¥–∏—Ç—å –≤ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π —Ç—É–∞–ª–µ—Ç —à–∫–æ–ª—ã –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∑–∞—à–ª–∏ —Ç–æ —É–≤–∏–¥–µ–ª–∏ –∫–∞–∫ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –ê–Ω–¥—Ä–µ–π –ø–∏—Å–∞–µ—Ç –∏ –æ–Ω–∏ —Å–±–µ–∂–∞–ª–∏ –µ–¥–≤–∞ –Ω–µ –≤—ã–¥–∞–≤ —Å–µ–±—è.<br><strong>–ê–≤—Ç–æ—Ä—ã: –ê—Ä—Ç–µ–º.–í –∏ –í–æ–≤–∞.–í</strong></div></div>
            <div class="card"><div class="event-header"><strong>–î—É—à–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</strong><small>24.12.24</small></div><span class="time-passed" data-date="2024-12-24T00:00:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í —Ç–æ—Ç –¥–µ–Ω—å –ê—Ä—Ç–µ–º –≤—Å—Ç–∞–ª –∏ –ø–æ–¥–æ—à–µ–ª –∫ –î–∏–º–µ –∏ –†—É—Å–ª–∞–Ω—É —Å–∑–∞–¥–∏ –∏ —á—Ç–æ —Ç–æ –¥–µ–ª–∞–ª –Ω–∞–¥ –Ω–∏–º–∏ –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∑–∞–º–µ—Ç–∏–ª –†—É—Å–ª–∞–Ω —Ç–æ –ê—Ä—Ç–µ–º –Ω–∞—á–∞–ª —à—É—Ç–æ—á–Ω–æ –¥—É—à–∏—Ç—å –î–∏–º—É –∏ –ø–æ—Å–ª–µ —É–±–µ–∂–∞–ª.</div></div>
        </div>

        <div id="all-events" class="content-section">
            <div class="card"><strong>–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –†—É—Å–ª–∞–Ω —Å–∏–¥–µ–ª –∏...</div></div>
            <div class="card"><strong>–ê—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ</strong><br><span class="time-passed" data-date="2026-02-27T09:35:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span><br><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í 9:35 –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ...</div></div>
            <div class="card"><strong>–ü–æ—â–µ—á–∏–Ω–∞ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">??? –î–ï–ù–¨,–ú–ï–°–Ø–¶,–ì–û–î. –ê–Ω–¥—Ä–µ–π —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –≤—Å—Ç–∞–ª...</div></div>
            <div class="card"><strong>–ê–Ω–¥—Ä–µ–π –≤ —Ç—É–∞–ª–µ—Ç–µ</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –ê—Ä—Ç–µ–º –∏ –í–æ–≤–∞ —Ä–µ—à–∏–ª–∏—Å—å —Å—Ö–æ–¥–∏—Ç—å –≤ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π —Ç—É–∞–ª–µ—Ç —à–∫–æ–ª—ã...</div></div>
            <div class="card"><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞ –≤ –∑–≤–æ–Ω–æ–∫</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω –¥–µ–Ω—å –í–æ–≤–∞ –∏ –ê—Ä—Ç–µ–º —Ä–µ—à–∏–ª–∏ –ø–æ–∏–≥—Ä–∞—Ç—å –≤ –ö—Å2...</div></div>
            <div class="card"><strong>–î—É—à–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</strong><br><span class="time-passed" data-date="2024-12-24T00:00:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span><br><button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í —Ç–æ—Ç –¥–µ–Ω—å –ê—Ä—Ç–µ–º –≤—Å—Ç–∞–ª –∏ –ø–æ–¥–æ—à–µ–ª –∫ –î–∏–º–µ –∏ –†—É—Å–ª–∞–Ω—É —Å–∑–∞–¥–∏...</div></div>
        </div>
    </div>

    <div id="items-page" class="page">
        <p style="text-align: center; font-size: 1.2em; font-weight: bold; padding: 40px 0;">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üõ†Ô∏è</p>
    </div>
</div>

<script>
    // ==========================================
    // 1. –ù–ê–°–¢–†–û–ô–ö–ê FIREBASE
    // ==========================================
    const firebaseConfig = {
        apiKey: "AIzaSyCAf9GfgjJSuIC3i-NZq6TH-E3OjYDj5ng",
        authDomain: "citata-edadd.firebaseapp.com",
        databaseURL: "https://citata-edadd-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "citata-edadd",
        storageBucket: "citata-edadd.firebasestorage.app",
        messagingSenderId: "779162308250",
        appId: "1:779162308250:web:ab62faa3b59169e5751923"
    };

    let database = null;
    let loadTime = Date.now(); // –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    let chatUsername = localStorage.getItem('archive_chat_name') || "–ê–Ω–æ–Ω–∏–º_" + Math.floor(Math.random()*1000);

    try {
        firebase.initializeApp(firebaseConfig);
        database = firebase.database();
        document.querySelector('.chat-header').innerText = "üí¨ –ß–∞—Ç –ê—Ä—Ö–∏–≤–∞ (Live)";
    } catch(e) { console.warn("Firebase –æ—à–∏–±–∫–∞:", e); }

    // ==========================================
    // 2. –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ß–ê–¢
    // ==========================================
    function toggleChat() {
        const body = document.getElementById('chat-body');
        body.style.display = body.style.display === "flex" ? "none" : "flex";
        if(body.style.display === "flex") scrollChat();
    }

    function sendChatMessage() {
        const input = document.getElementById('chat-input');
        const text = input.value.trim();
        if(text && database) {
            database.ref('chat').push({ name: chatUsername, text: text, time: Date.now() });
            input.value = "";
        }
    }

    document.getElementById('chat-input').addEventListener('keypress', function(e) {
        if(e.key === 'Enter') sendChatMessage();
    });

    function scrollChat() {
        const box = document.getElementById('chat-messages');
        box.scrollTop = box.scrollHeight;
    }

    if(database) {
        database.ref('chat').limitToLast(50).on('child_added', snap => {
            const data = snap.val();
            const msgDiv = document.createElement('div');
            msgDiv.className = 'chat-msg';
            msgDiv.innerHTML = `<strong>${data.name}:</strong> ${data.text}`;
            document.getElementById('chat-messages').appendChild(msgDiv);
            scrollChat();
        });
    }

    // ==========================================
    // 3. –ü–†–ï–î–õ–û–ñ–ö–ê –¶–ò–¢–ê–¢ –ò –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨
    // ==========================================
    function submitSuggestion() {
        const text = document.getElementById('suggest-text').value.trim();
        if(text && database) {
            database.ref('pending_quotes').push({ text: text, time: Date.now(), user: chatUsername });
            document.getElementById('suggest-text').value = "";
            toggleModal('suggest-modal');
            showAchievement("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!", "–¶–∏—Ç–∞—Ç–∞ —É—à–ª–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É.");
        } else {
            alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç!");
        }
    }

    function openAdminPending() {
        toggleModal('admin-pending-modal');
        const listDiv = document.getElementById('pending-list');
        listDiv.innerHTML = "–ó–∞–≥—Ä—É–∑–∫–∞...";
        
        if(database) {
            // –ß–∏—Ç–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            database.ref('pending_quotes').on('value', snap => {
                const data = snap.val();
                listDiv.innerHTML = "";
                if(data) {
                    for(let key in data) {
                        const item = data[key];
                        const date = new Date(item.time).toLocaleString();
                        listDiv.innerHTML += `
                            <div class="pending-item">
                                <div class="pending-text">
                                    <strong>–û—Ç: ${item.user}</strong> <small>(${date})</small><br>
                                    <i>${item.text}</i>
                                </div>
                                <button class="delete-btn" onclick="deletePending('${key}')">üóëÔ∏è</button>
                            </div>
                        `;
                    }
                } else {
                    listDiv.innerHTML = "<p>–ü—Ä–µ–¥–ª–æ–∂–µ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –í—Å–µ —á–∏—Å—Ç–æ!</p>";
                }
            });
        } else {
            listDiv.innerHTML = "–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.";
        }
    }

    function deletePending(key) {
        if(confirm("–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ø—Ä–µ–¥–ª–æ–∂–∫—É –Ω–∞–≤—Å–µ–≥–¥–∞?") && database) {
            database.ref('pending_quotes/' + key).remove();
        }
    }

    // ==========================================
    // 4. –°–°–´–õ–ö–ò-–¢–ï–õ–ï–ü–û–†–¢–´ –ù–ê –¶–ò–¢–ê–¢–£
    // ==========================================
    window.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const qId = urlParams.get('q');
        
        if (qId) {
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–í—Å–µ" –≤ —Ü–∏—Ç–∞—Ç–∞—Ö
            showPage('quotes-page');
            openSubTab('all', 'quotes');
            
            setTimeout(() => {
                const target = document.querySelector(`#all-quotes .card[data-quote-id="${qId}"]`);
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    target.classList.add('highlight-quote');
                }
            }, 500); // –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞
        }
    });

    function copyQuote(btn) {
        const card = btn.closest('.card');
        const text = card.querySelector('.quote-text').innerText;
        const author = card.querySelector('.author').innerText;
        const qId = card.getAttribute('data-quote-id');
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É
        const link = window.location.origin + window.location.pathname + "?q=" + qId;
        
        navigator.clipboard.writeText(`${text} ${author}\n–°—Å—ã–ª–∫–∞: ${link}`);
        const toast = document.getElementById('copy-toast');
        toast.style.display = 'block';
        setTimeout(() => toast.style.display = 'none', 3000);
    }

    // ==========================================
    // 5. –¢–ê–ô–ú–ï–†–´ –ò –û–ë–ù–û–í–õ–ï–ù–ò–Ø
    // ==========================================
    // –¢–∞–π–º–µ—Ä –¥–æ –ú–µ–≥–∞-–æ–±–Ω–æ–≤—ã (1 –º–∞—Ä—Ç–∞ 2026, 15:30)
    const nextUpdateDate = new Date('2026-03-01T15:30:00');
    
    setInterval(() => {
        // –¢–∞–π–º–µ—Ä –¥–æ –æ–±–Ω–æ–≤—ã
        const diffUpd = nextUpdateDate - new Date();
        const updEl = document.getElementById('update-countdown');
        if(diffUpd > 0) {
            const h = Math.floor(diffUpd / 3600000);
            const m = Math.floor((diffUpd / 60000) % 60);
            const s = Math.floor((diffUpd / 1000) % 60);
            updEl.innerText = `${h}—á ${m}–º ${s}—Å`;
        } else {
            updEl.innerText = "–û–±–Ω–æ–≤–∞ —É–∂–µ –∑–¥–µ—Å—å!";
        }

        // –¢–∞–π–º–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π
        document.querySelectorAll('.time-passed').forEach(t => {
            const diff = new Date() - new Date(t.dataset.date);
            if (diff > 0) {
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff / 3600000) % 24);
                const m = Math.floor((diff / 60000) % 60);
                const s = Math.floor((diff / 1000) % 60);
                t.innerText = `‚è± –ü—Ä–æ—à–ª–æ: ${d}–¥ ${h}—á ${m}–º ${s}—Å`;
            }
        });
    }, 1000);

    // ==========================================
    // 6. –°–ï–ö–†–ï–¢–ù–´–ô –†–ï–ñ–ò–ú OWNER –ò –ì–õ–û–ë–ê–õ–¨–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø
    // ==========================================
    function sendGlobalMessage() {
        const msg = prompt("–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:");
        if(msg && database) {
            database.ref('announcement').set({ text: msg, time: Date.now() });
        }
    }

    if(database) {
        database.ref('announcement').on('value', snap => {
            const data = snap.val();
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –∑–∞—à–ª–∏ –Ω–∞ —Å–∞–π—Ç
            if(data && data.time > loadTime) {
                document.getElementById('global-msg-text').innerText = data.text;
                document.getElementById('global-msg-modal').style.display = 'flex';
            }
        });
    }

    // ==========================================
    // –¢–ï–†–ú–ò–ù–ê–õ –ò –ü–ê–°–•–ê–õ–ö–ò
    // ==========================================
    let keys = "";
    window.addEventListener('keydown', e => {
        keys += e.key.toLowerCase();
        if (keys.endsWith("ruslan")) { document.body.classList.toggle('ruslan-mode'); keys = ""; }
        if (e.key === "~" || e.key === "—ë") { 
            const t = document.getElementById('terminal');
            t.style.display = t.style.display === "block" ? "none" : "block";
            document.getElementById('terminal-input').focus();
        }
    });

    document.getElementById('terminal-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const val = this.value.toLowerCase();
            
            if (val === 'admin') {
                document.getElementById('secret-quote').style.display = 'block';
                showAchievement("–•–∞–∫–µ—Ä", "–£–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã");
                updateStats();
            } 
            else if (val === 'credits') {
                alert("üíª –°–û–ó–î–ê–¢–ï–õ–ò –ê–†–•–ò–í–ê:\n- –ê—Ä—Ç–µ–º\n- –í–æ–≤–∞\n- –†—É—Å–ª–∞–Ω");
            } 
            else if (val === 'version') {
                alert("‚öôÔ∏è –¢–ï–ö–£–©–ê–Ø –í–ï–†–°–ò–Ø:\nv2.0 MEGA UPDATE");
            } 
            else if (val === 'owner') {
                document.getElementById('owner-btn').style.display = 'block';
                document.getElementById('admin-pending-btn').style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–∫—É –ø—Ä–µ–¥–ª–æ–∂–∫–∏
                showAchievement("–°–∏—Å—Ç–µ–º–∞", "–î–æ—Å—Ç—É–ø [OWNER] –†–∞–∑—Ä–µ—à–µ–Ω");
            }

            this.value = ""; 
            document.getElementById('terminal').style.display = 'none';
        }
    });

    // ==========================================
    // –õ–û–ì–ò–ö–ê –õ–ê–ô–ö–û–í –ò –ó–í–ï–ó–î–ù–û–ï –ù–ï–ë–û
    // ==========================================
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const mouse = { x: null, y: null, radius: 100 };
    window.addEventListener('mousemove', (e) => { mouse.x = e.x; mouse.y = e.y; });

    class Particle {
        constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.size = Math.random()*2+1; this.baseX = this.x; this.baseY = this.y; this.density = (Math.random()*30)+1; }
        draw() { ctx.fillStyle = document.body.classList.contains('ruslan-mode') ? '#00ff41' : '#007bff'; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.closePath(); ctx.fill(); }
        update() {
            let dx = mouse.x - this.x; let dy = mouse.y - this.y; let distance = Math.sqrt(dx*dx + dy*dy);
            let forceDirectionX = dx/distance; let forceDirectionY = dy/distance; let force = (mouse.radius - distance) / mouse.radius;
            if (distance < mouse.radius) { this.x -= forceDirectionX * force * this.density; this.y -= forceDirectionY * force * this.density; } 
            else { if(this.x !== this.baseX) this.x -= (this.x - this.baseX)/10; if(this.y !== this.baseY) this.y -= (this.y - this.baseY)/10; }
        }
    }
    function initParticles() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; particles = []; for (let i = 0; i < 100; i++) particles.push(new Particle()); }
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particles.length; i++) { particles[i].draw(); particles[i].update(); }
        for(let a=0; a<particles.length; a++) for(let b=a; b<particles.length; b++) {
            let dx = particles[a].x - particles[b].x; let dy = particles[a].y - particles[b].y;
            if(Math.sqrt(dx*dx + dy*dy) < 150) { ctx.strokeStyle = document.body.classList.contains('ruslan-mode') ? 'rgba(0,255,65,0.1)' : 'rgba(0,123,255,0.1)'; ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(particles[a].x, particles[a].y); ctx.lineTo(particles[b].x, particles[b].y); ctx.stroke(); }
        }
        requestAnimationFrame(animate);
    }
    window.addEventListener('resize', initParticles); initParticles(); animate();

    function toggleLike(id) {
        const isLikedLocal = localStorage.getItem('liked_' + id);
        if (database) {
            database.ref('likes/' + id).transaction(c => isLikedLocal ? (localStorage.removeItem('liked_'+id), (c||1)-1) : (localStorage.setItem('liked_'+id, 't'), (c||0)+1));
        } else {
            let c = parseInt(document.querySelector(`[data-quote-id="${id}"] .like-count`).innerText) || 0;
            if(isLikedLocal) { localStorage.removeItem('liked_'+id); updateDOM(id, c-1, false); }
            else { localStorage.setItem('liked_'+id, 't'); updateDOM(id, c+1, true); }
        }
    }

    if (database) database.ref('likes').on('value', s => { const d = s.val()||{}; document.querySelectorAll('.card[data-quote-id]').forEach(c => { const id = c.dataset.quoteId; updateDOM(id, d[id]||0, localStorage.getItem('liked_'+id)); }); });
    function updateDOM(id, count, liked) { document.querySelectorAll(`[data-quote-id="${id}"]`).forEach(c => { c.querySelector('.like-count').innerText = count; const btn = c.querySelector('.like-btn'); if(btn) liked ? btn.classList.add('liked') : btn.classList.remove('liked'); }); }

    // ==========================================
    // –ò–ù–¢–ï–†–§–ï–ô–°, –ü–û–ò–°–ö –ò –ù–ê–í–ò–ì–ê–¶–ò–Ø
    // ==========================================
    function showPage(id) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.querySelectorAll('.main-btn').forEach(b => b.classList.remove('active')); document.getElementById(id).classList.add('active'); event.currentTarget.classList.add('active'); updateStats(); }
    function openSubTab(cat, type) { const p = document.getElementById(type+'-page'); p.querySelectorAll('.content-section').forEach(s => s.classList.remove('active')); p.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active')); document.getElementById(cat+'-'+type).classList.add('active'); event.currentTarget.classList.add('active'); }
    function toggleModal(id) { const el = document.getElementById(id); el.style.display = el.style.display === "flex" ? "none" : "flex"; }
    function filterQuotes() { let input = document.getElementById('search-input').value.toLowerCase(); document.querySelectorAll('.card').forEach(card => card.style.display = card.innerText.toLowerCase().includes(input) ? "block" : "none"); }
    function toggleDetails(btn) { const t = btn.parentElement.querySelector('.details-text'); t.style.display = t.style.display === "block" ? "none" : "block"; btn.innerText = t.style.display === "block" ? "–°–∫—Ä—ã—Ç—å" : "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"; }
    function showAchievement(title, desc) { document.getElementById('ach-title').innerText = title; document.getElementById('ach-desc').innerText = desc; const box = document.getElementById('achievement-box'); box.classList.add('show'); setTimeout(() => box.classList.remove('show'), 4000); }
    function updateStats() { document.getElementById('live-stats').innerText = `üìä –í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç: ${document.querySelectorAll('#all-quotes .card').length} | –°–æ–±—ã—Ç–∏–π: ${document.querySelectorAll('#all-events .card').length}`; }
    updateStats();
</script>
</body>
</html>



