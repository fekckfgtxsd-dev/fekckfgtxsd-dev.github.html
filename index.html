<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ê—Ä—Ö–∏–≤ v1.4.1 PRO</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <style>
        :root {
            --primary: #007bff;
            --bg: #f0f2f5;
            --card-bg: rgba(255, 255, 255, 0.9);
            --text: #333;
            --neon: transparent;
        }

        body.ruslan-mode {
            --bg: #0a0a0a;
            --card-bg: rgba(26, 26, 26, 0.85);
            --text: #00ff41;
            --primary: #00ff41;
            --neon: 0 0 10px #00ff41;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            margin: 0;
            min-height: 100vh;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 20px; 
            color: var(--text); 
            transition: all 0.5s ease;
            overflow-x: hidden;
        }

        /* –ö–ê–ù–í–ê–° –î–õ–Ø –ó–í–ï–ó–î–ù–û–ì–û –ù–ï–ë–ê */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: var(--bg); transition: background 0.5s; }

        .container { 
            width: 100%; max-width: 700px; background: var(--card-bg); padding: 30px; border-radius: 20px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); border: 1px solid var(--neon); backdrop-filter: blur(5px); 
        }

        .stats-header { text-align: center; font-size: 0.9em; color: #888; margin-bottom: 15px; font-weight: bold; background: rgba(0,0,0,0.03); padding: 10px; border-radius: 10px; }
        .search-container { margin-bottom: 20px; width: 100%; }
        #search-input { width: 100%; padding: 12px 15px; border: 2px solid #ddd; border-radius: 10px; background: white; color: #333; font-size: 16px; outline: none; transition: 0.3s; box-sizing: border-box; }

        .main-nav { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; background: rgba(0,0,0,0.05); padding: 8px; border-radius: 12px; }
        .main-btn { padding: 10px 25px; cursor: pointer; border: none; background: none; font-weight: bold; border-radius: 8px; color: var(--text); }
        .main-btn.active { background: var(--primary); color: white; box-shadow: var(--neon); }

        .sub-tabs { display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; overflow-x: auto; }
        .tab-btn { padding: 6px 12px; cursor: pointer; border: none; background: rgba(0,0,0,0.05); border-radius: 6px; color: var(--text); white-space: nowrap; }
        .tab-btn.active { background: #6c757d; color: white; }

        .page, .content-section { display: none; }
        .page.active, .content-section.active { display: block; }

        .card { background: white; border: 1px solid rgba(0,0,0,0.1); padding: 20px; margin-bottom: 15px; border-radius: 12px; animation: slideUp 0.5s ease forwards; opacity: 0; position: relative; color: #333; }
        body.ruslan-mode .card { background: #1a1a1a; border-color: #00ff41; color: #00ff41; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .quote-text { font-style: italic; font-size: 1.1em; border-left: 4px solid var(--primary); padding-left: 15px; display: block; margin-bottom: 10px; }
        .author { text-align: right; display: block; font-weight: bold; }

        .event-header { display: flex; justify-content: space-between; align-items: center; }
        .details-text { display: none; margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.03); border-radius: 8px; border: 1px dashed var(--primary); font-size: 0.95em; line-height: 1.5; }
        .time-passed { font-size: 0.85em; color: #d9534f; margin-top: 8px; font-weight: bold; display: block; }

        .like-section { display: flex; align-items: center; gap: 8px; margin-top: 15px; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 10px; }
        .like-btn { cursor: pointer; font-size: 1.2em; user-select: none; transition: transform 0.2s; filter: grayscale(100%); opacity: 0.7; }
        .like-btn.liked { filter: grayscale(0%); opacity: 1; }
        .like-count { font-weight: bold; }

        .achievement { position: fixed; top: 20px; right: -300px; background: #333; color: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: 0.5s; z-index: 1000; border-left: 5px solid gold; }
        .achievement.show { right: 20px; }

        #terminal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #000; color: #00ff41; padding: 20px; border-radius: 10px; width: 300px; display: none; z-index: 2000; box-shadow: 0 0 50px #000; border: 1px solid #00ff41; }
        #terminal input { background: transparent; border: none; color: #00ff41; outline: none; width: 100%; font-family: monospace; border-bottom: 1px solid #00ff41; }

        .action-btn { background: var(--primary); border: none; padding: 8px 15px; border-radius: 5px; color: white; cursor: pointer; margin-top: 10px; font-size: 0.85em; transition: 0.2s; }
        .share-btn { background: rgba(0,0,0,0.1); color: var(--text); margin-left: 5px; }
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 10px 20px; border-radius: 20px; display: none; z-index: 3000; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div id="copy-toast" class="toast">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä!</div>
<div id="achievement-box" class="achievement">
    <strong id="ach-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</strong><br><span id="ach-desc">–¢–µ–∫—Å—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
</div>
<div id="terminal">
    <div>SYSTEM LOGIN: ACCESS REQUIRED</div>
    <input type="text" id="terminal-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥...">
</div>

<div class="container">
    <div class="stats-header" id="live-stats">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</div>
    <div class="search-container"><input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ —Ü–∏—Ç–∞—Ç –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π..." onkeyup="filterQuotes()"></div>

    <div class="main-nav">
        <button class="main-btn active" onclick="showPage('quotes-page')">–¶–∏—Ç–∞—Ç—ã</button>
        <button class="main-btn" onclick="showPage('events-page')">–°–æ–±—ã—Ç–∏—è</button>
    </div>

    <div id="quotes-page" class="page active">
        <div class="sub-tabs">
            <button class="tab-btn active" onclick="openSubTab('ruslan', 'quotes')">–û –†—É—Å–ª–∞–Ω–µ</button>
            <button class="tab-btn" onclick="openSubTab('sergo', 'quotes')">–°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</button>
            <button class="tab-btn" onclick="openSubTab('terminator', 'quotes')">–ê–Ω–¥—Ä–µ–π –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä</button>
            <button class="tab-btn" onclick="openSubTab('all', 'quotes')">–í—Å–µ</button>
        </div>

        <div id="ruslan-quotes" class="content-section active">
            <div class="card" data-quote-id="quote_ruslan_3_10">
                <span class="quote-text">¬´3 —Ü–µ–ª—ã—Ö –†—É—Å–ª–∞–Ω –¥–µ—Å—è—Ç—ã—Ö¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span>
                <div class="like-section">
                    <span class="like-btn" onclick="toggleLike('quote_ruslan_3_10')">‚ù§Ô∏è</span><span class="like-count">0</span>
                    <button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button>
                </div>
            </div>
            <div id="secret-quote" style="display: none;">
                <div class="card" data-quote-id="quote_secret_masulya" style="border: 2px dashed #d9534f;">
                    <span class="quote-text">¬´–ß–µ –∑–∞ –º–∞—Å—é–ª—è –Ω–∞ –º–Ω–µ¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span>
                    <div style="font-size: 0.8em; color: #d9534f; margin-top:10px;">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: –ó–∞–±—ã–ª–∏ –ø—Ä–æ –Ω–µ–µ</div>
                    <div class="like-section">
                        <span class="like-btn" onclick="toggleLike('quote_secret_masulya')">‚ù§Ô∏è</span><span class="like-count">0</span>
                        <button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="sergo-quotes" class="content-section">
            <div class="card" data-quote-id="quote_sergo_1">
                <span class="quote-text">¬´–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å–ª—É—à–∞–π—Ç–µ¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
            <div class="card" data-quote-id="quote_sergo_2">
                <span class="quote-text">¬´–ö–æ–ª—è –≤—ã–π–¥–∏ –ö–æ–ª—è –≤—ã–π–¥–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_2')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
            <div class="card" data-quote-id="quote_sergo_3">
                <span class="quote-text">¬´–£–∫—Ä–∞–∏–Ω—Ü—ã¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_3')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
            <div class="card" data-quote-id="quote_sergo_4">
                <span class="quote-text">¬´–°–≤–æ–ª–æ—á–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_4')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
        </div>

        <div id="terminator-quotes" class="content-section">
            <p style="text-align: center; opacity: 0.5;">–¶–∏—Ç–∞—Ç –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        </div>

        <div id="all-quotes" class="content-section">
            <div class="card" data-quote-id="quote_vova_tank">
                <span class="quote-text">¬´–¢–∞–Ω–∫ –≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç¬ª</span><span class="author">‚Äî –í–æ–≤–∞ –≤–µ–ª. –ê—Ä—Ç–µ–º –≤–µ–ª.</span>
                <div class="like-section"><span class="like-btn" onclick="toggleLike('quote_vova_tank')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div>
            </div>
            <div class="card" data-quote-id="quote_ruslan_3_10"><span class="quote-text">¬´3 —Ü–µ–ª—ã—Ö –†—É—Å–ª–∞–Ω –¥–µ—Å—è—Ç—ã—Ö¬ª</span><span class="author">‚Äî –ê—Ä—Ç–µ–º –í–µ–ª–∏–∫–∏–π</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_ruslan_3_10')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_1"><span class="quote-text">¬´–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å–ª—É—à–∞–π—Ç–µ¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_1')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_2"><span class="quote-text">¬´–ö–æ–ª—è –≤—ã–π–¥–∏ –ö–æ–ª—è –≤—ã–π–¥–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_2')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_3"><span class="quote-text">¬´–£–∫—Ä–∞–∏–Ω—Ü—ã¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_3')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
            <div class="card" data-quote-id="quote_sergo_4"><span class="quote-text">¬´–°–≤–æ–ª–æ—á–∏¬ª</span><span class="author">‚Äî –°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</span><div class="like-section"><span class="like-btn" onclick="toggleLike('quote_sergo_4')">‚ù§Ô∏è</span><span class="like-count">0</span><button class="action-btn share-btn" style="margin-top:0; margin-left:auto;" onclick="copyQuote(this)">üìã</button></div></div>
        </div>
    </div>

    <div id="events-page" class="page">
        <div class="sub-tabs">
            <button class="tab-btn active" onclick="openSubTab('ruslan', 'events')">–û –†—É—Å–ª–∞–Ω–µ</button>
            <button class="tab-btn" onclick="openSubTab('sergo', 'events')">–°–µ—Ä–≥–æ –ú–µ—Ä–≥–æ</button>
            <button class="tab-btn" onclick="openSubTab('terminator', 'events')">–ê–Ω–¥—Ä–µ–π –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä</button>
            <button class="tab-btn" onclick="openSubTab('all', 'events')">–í—Å–µ</button>
        </div>

        <div id="ruslan-events" class="content-section active">
            <div class="card">
                <div class="event-header"><strong>–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É</strong><small>??.01.26</small></div>
                <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <div class="details-text">–í –æ–¥–∏–Ω —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –†—É—Å–ª–∞–Ω —Å–∏–¥–µ–ª –∏ –∫–æ–≥–¥–∞ —É—Å–ª—ã—à–∞–ª –∑–≤–æ–Ω–æ–∫ —Å—Ä–∞–∑—É —Å–ø—Ä—è—Ç–∞–ª —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –∫–∞—Ä–º–∞–Ω –∏ –ø–æ—Å–ª–µ –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –ø–æ–¥ –∏–º–µ–Ω–µ–º –í–æ–≤–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥ –ø—Ä–∏–¥—É–º–∞–ª "–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É". <br><strong>–ê–≤—Ç–æ—Ä: –í–æ–≤–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥</strong></div>
            </div>
        </div>

        <div id="sergo-events" class="content-section">
            <div class="card">
                <div class="event-header"><strong>–ê—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ</strong><small>27.02.26 | 9:35</small></div>
                <span class="time-passed" data-date="2026-02-27T09:35:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span>
                <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <div class="details-text">–í 9:35 –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ. –ü–æ—Å—Ç—Ä–∞–¥–∞–ª 1 —á–µ–ª–æ–≤–µ–∫ (–°–µ—Ä–≥–æ –º–µ—Ä–≥–æ). –í –∫–∞—á–µ—Å—Ç–≤–µ —Å–Ω–∞—Ä—è–¥–æ–≤ –±—ã–ª–∞ –∫–æ–∂—É—Ä–∞ –æ—Ç –º–∞–Ω–¥–∞—Ä–∏–Ω–æ–≤.</div>
            </div>
        </div>

        <div id="terminator-events" class="content-section">
            <div class="card">
                <div class="event-header"><strong>–ü–æ—â–µ—á–∏–Ω–∞ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞</strong><small>??.??.??</small></div>
                <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <div class="details-text">??? –î–ï–ù–¨,–ú–ï–°–Ø–¶,–ì–û–î. –ê–Ω–¥—Ä–µ–π —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –≤—Å—Ç–∞–ª —Å–æ —Å–≤–æ–µ–≥–æ —Å—Ç—É–ª–∞ –∏ –±—É–¥—É—á–∏ –∑–ª—ã–º –¥–∞–ª –ø–æ—â–µ—á–∏–Ω—É –°–∞–≤–µ–ª–∏—é –∏ –æ–Ω —É–¥–∞—Ä–∏–ª—Å—è –æ–± —Å—Ç–µ–Ω—É.</div>
            </div>
        </div>

        <div id="all-events" class="content-section">
            <div class="card"><strong>–ü–∏—Å—Ç–æ–ª–µ—Ç –≤ –∫–æ–±—É—Ä—É</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">–í –æ–¥–∏–Ω —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –†—É—Å–ª–∞–Ω —Å–∏–¥–µ–ª –∏...</div></div>
            <div class="card">
                <strong>–ê—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ</strong><br>
                <span class="time-passed" data-date="2026-02-27T09:35:00">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</span><br>
                <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                <div class="details-text">–í 9:35 –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞—Ä—Ç –æ–±—Å—Ç—Ä–µ–ª –°–µ—Ä–≥–æ –º–µ—Ä–≥–æ...</div>
            </div>
            <div class="card"><strong>–ü–æ—â–µ—á–∏–Ω–∞ –¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞</strong> <button class="action-btn" onclick="toggleDetails(this)">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button><div class="details-text">??? –î–ï–ù–¨,–ú–ï–°–Ø–¶,–ì–û–î. –ê–Ω–¥—Ä–µ–π —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –≤—Å—Ç–∞–ª...</div></div>
        </div>
    </div>
</div>

<script>
    // ==========================================
    // –ù–ê–°–¢–†–û–ô–ö–ê FIREBASE (–ö–õ–Æ–ß–ò –í–°–¢–ê–í–õ–ï–ù–´)
    // ==========================================
    const firebaseConfig = {
        apiKey: "AIzaSyCAf9GfgjJSuIC3i-NZq6TH-E3OjYDj5ng",
        authDomain: "citata-edadd.firebaseapp.com",
        databaseURL: "https://citata-edadd-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "citata-edadd",
        storageBucket: "citata-edadd.firebasestorage.app",
        messagingSenderId: "779162308250",
        appId: "1:779162308250:web:ab62faa3b59169e5751923"
    };

    let database = null;
    try {
        firebase.initializeApp(firebaseConfig);
        database = firebase.database();
    } catch(e) { console.warn("Firebase –æ—à–∏–±–∫–∞:", e); }

    // ==========================================
    // –õ–û–ì–ò–ö–ê –ó–í–ï–ó–î–ù–û–ì–û –ù–ï–ë–ê (–ö–ê–ù–í–ê–°)
    // ==========================================
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const mouse = { x: null, y: null, radius: 100 };

    window.addEventListener('mousemove', (e) => { mouse.x = e.x; mouse.y = e.y; });

    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = Math.random() * 2 + 1;
            this.baseX = this.x;
            this.baseY = this.y;
            this.density = (Math.random() * 30) + 1;
        }
        draw() {
            ctx.fillStyle = document.body.classList.contains('ruslan-mode') ? '#00ff41' : '#007bff';
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.closePath();
            ctx.fill();
        }
        update() {
            let dx = mouse.x - this.x;
            let dy = mouse.y - this.y;
            let distance = Math.sqrt(dx * dx + dy * dy);
            let forceDirectionX = dx / distance;
            let forceDirectionY = dy / distance;
            let maxDistance = mouse.radius;
            let force = (maxDistance - distance) / maxDistance;
            let directionX = forceDirectionX * force * this.density;
            let directionY = forceDirectionY * force * this.density;

            if (distance < mouse.radius) {
                this.x -= directionX;
                this.y -= directionY;
            } else {
                if (this.x !== this.baseX) { let dx = this.x - this.baseX; this.x -= dx / 10; }
                if (this.y !== this.baseY) { let dy = this.y - this.baseY; this.y -= dy / 10; }
            }
        }
    }

    function initParticles() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        particles = [];
        for (let i = 0; i < 100; i++) particles.push(new Particle());
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particles.length; i++) {
            particles[i].draw();
            particles[i].update();
        }
        connect();
        requestAnimationFrame(animate);
    }

    function connect() {
        for (let a = 0; a < particles.length; a++) {
            for (let b = a; b < particles.length; b++) {
                let dx = particles[a].x - particles[b].x;
                let dy = particles[a].y - particles[b].y;
                let distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < 150) {
                    ctx.strokeStyle = document.body.classList.contains('ruslan-mode') ? 'rgba(0, 255, 65, 0.1)' : 'rgba(0, 123, 255, 0.1)';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(particles[a].x, particles[a].y);
                    ctx.lineTo(particles[b].x, particles[b].y);
                    ctx.stroke();
                }
            }
        }
    }

    window.addEventListener('resize', initParticles);
    initParticles();
    animate();

    // ==========================================
    // –õ–û–ì–ò–ö–ê –õ–ê–ô–ö–û–í (GLOBAL + LOCAL)
    // ==========================================
    function toggleLike(id) {
        const isLikedLocal = localStorage.getItem('liked_' + id);
        if (database) {
            const ref = database.ref('likes/' + id);
            ref.transaction(c => isLikedLocal ? (localStorage.removeItem('liked_'+id), (c||1)-1) : (localStorage.setItem('liked_'+id, 't'), (c||0)+1));
        } else {
            let el = document.querySelector(`[data-quote-id="${id}"] .like-count`);
            let c = parseInt(el.innerText) || 0;
            if(isLikedLocal) { localStorage.removeItem('liked_'+id); updateDOM(id, c-1, false); }
            else { localStorage.setItem('liked_'+id, 't'); updateDOM(id, c+1, true); }
        }
    }

    if (database) {
        database.ref('likes').on('value', s => {
            const d = s.val() || {};
            document.querySelectorAll('.card[data-quote-id]').forEach(c => {
                const id = c.dataset.quoteId;
                updateDOM(id, d[id] || 0, localStorage.getItem('liked_'+id));
            });
        });
    }

    function updateDOM(id, count, liked) {
        document.querySelectorAll(`[data-quote-id="${id}"]`).forEach(c => {
            let countEl = c.querySelector('.like-count');
            if (countEl) countEl.innerText = count;
            const btn = c.querySelector('.like-btn');
            if (btn) { liked ? btn.classList.add('liked') : btn.classList.remove('liked'); }
        });
    }

    // ==========================================
    // –ò–ù–¢–ï–†–§–ï–ô–°, –ü–û–ò–°–ö –ò –ù–ê–í–ò–ì–ê–¶–ò–Ø
    // ==========================================
    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.main-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        event.currentTarget.classList.add('active');
        updateStats();
    }

    function openSubTab(cat, type) {
        const p = document.getElementById(type + '-page');
        p.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        p.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(cat + '-' + type).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function filterQuotes() {
        let input = document.getElementById('search-input').value.toLowerCase();
        document.querySelectorAll('.card').forEach(card => {
            card.style.display = card.innerText.toLowerCase().includes(input) ? "block" : "none";
        });
    }

    function toggleDetails(btn) {
        const t = btn.parentElement.querySelector('.details-text');
        t.style.display = t.style.display === "block" ? "none" : "block";
        btn.innerText = t.style.display === "block" ? "–°–∫—Ä—ã—Ç—å" : "–ü–æ–¥—Ä–æ–±–Ω–µ–µ";
    }

    function copyQuote(btn) {
        const card = btn.closest('.card');
        const text = card.querySelector('.quote-text').innerText;
        const author = card.querySelector('.author').innerText;
        navigator.clipboard.writeText(`${text} ${author} (–∏–∑ –ê—Ä—Ö–∏–≤–∞)`);
        const toast = document.getElementById('copy-toast');
        toast.style.display = 'block';
        setTimeout(() => toast.style.display = 'none', 2000);
    }

    function showAchievement(title, desc) {
        const box = document.getElementById('achievement-box');
        document.getElementById('ach-title').innerText = title;
        document.getElementById('ach-desc').innerText = desc;
        box.classList.add('show');
        setTimeout(() => box.classList.remove('show'), 4000);
    }

    function updateStats() {
        // –°—á–∏—Ç–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–∏–∑ –ª–∏—á–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫, —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç—á–∏–∫ –≤–∫–ª–∞–¥–∫–∏ "–í—Å–µ")
        let q = document.querySelectorAll('#ruslan-quotes .card, #sergo-quotes .card, #terminator-quotes .card').length;
        let e = document.querySelectorAll('#all-events .card').length;
        document.getElementById('live-stats').innerText = `üìä –í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç: ${q} | –°–æ–±—ã—Ç–∏–π: ${e}`;
    }

    // –¢–ê–ô–ú–ï–†
    setInterval(() => {
        document.querySelectorAll('.time-passed').forEach(t => {
            const eventDate = new Date(t.dataset.date);
            const diff = new Date() - eventDate;
            if (diff > 0) {
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff / 3600000) % 24);
                const m = Math.floor((diff / 60000) % 60);
                const s = Math.floor((diff / 1000) % 60);
                t.innerText = `‚è± –ü—Ä–æ—à–ª–æ: ${d}–¥ ${h}—á ${m}–º ${s}—Å`;
            } else {
                t.innerText = "‚è± –°–æ–±—ã—Ç–∏–µ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ";
            }
        });
    }, 1000);

    // –ü–ê–°–•–ê–õ–ö–ò –ò –¢–ï–†–ú–ò–ù–ê–õ
    let keys = "";
    window.addEventListener('keydown', e => {
        keys += e.key.toLowerCase();
        if (keys.endsWith("ruslan")) { 
            document.body.classList.toggle('ruslan-mode'); 
            showAchievement("–¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å", "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —Ä–µ–∂–∏–º RUSLAN");
            keys = ""; 
        }
        if (e.key === "~" || e.key === "—ë") { 
            const t = document.getElementById('terminal');
            t.style.display = t.style.display === "block" ? "none" : "block";
            document.getElementById('terminal-input').focus();
        }
    });

    document.getElementById('terminal-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            if (this.value === 'admin') {
                document.getElementById('secret-quote').style.display = 'block';
                showAchievement("–•–∞–∫–µ—Ä", "–£–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã");
                updateStats();
            }
            this.value = ""; 
            document.getElementById('terminal').style.display = 'none';
        }
    });

    updateStats();
</script>
</body>
</html>

